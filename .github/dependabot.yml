# ğŸ¤– Dependabot è‡ªåŠ¨åŒ–ä¾èµ–ç®¡ç†é…ç½®
# 
# åŠŸèƒ½è¯´æ˜:
# 1. è‡ªåŠ¨æ£€æµ‹è¿‡æ—¶ä¾èµ–åŒ…å¹¶åˆ›å»ºæ›´æ–° PR
# 2. ç›‘æ§å®‰å…¨æ¼æ´å¹¶åŠæ—¶ä¿®å¤
# 3. æ™ºèƒ½åˆå¹¶ç­–ç•¥ï¼Œå‡å°‘ç»´æŠ¤å·¥ä½œé‡
# 4. ä¸ç°æœ‰ CI/CD æµç¨‹æ— ç¼é›†æˆ

version: 2
updates:
  # npm ä¾èµ–åŒ…æ›´æ–°é…ç½®
  - package-ecosystem: "npm"
    directory: "/"
    schedule:
      interval: "daily"
      time: "09:00"
      timezone: "Asia/Shanghai"
    
    # PR ç®¡ç†ç­–ç•¥
    open-pull-requests-limit: 10
    pull-request-branch-name:
      separator: "/"
    
    # æäº¤ä¿¡æ¯é…ç½®
    commit-message:
      prefix: "ğŸ”§ deps"
      prefix-development: "ğŸ”§ deps-dev"
      include: "scope"
    
    # è‡ªåŠ¨åˆå¹¶é…ç½® (ä»…è¡¥ä¸çº§æ›´æ–°)
    allow:
      - dependency-type: "direct"
        update-type: "version-update:semver-patch"
      - dependency-type: "indirect"
        update-type: "version-update:semver-patch"
    
    # å¿½ç•¥ç‰¹å®šä¾èµ–åŒ… (å¦‚æœéœ€è¦é”å®šç‰ˆæœ¬)
    ignore:
      # Next.js ä¸»è¦ç‰ˆæœ¬æ›´æ–°éœ€è¦æ‰‹åŠ¨æµ‹è¯•
      - dependency-name: "next"
        update-types: ["version-update:semver-major"]
      
      # React ä¸»è¦ç‰ˆæœ¬æ›´æ–°éœ€è¦æ‰‹åŠ¨æµ‹è¯•  
      - dependency-name: "react"
        update-types: ["version-update:semver-major"]
      - dependency-name: "react-dom"
        update-types: ["version-update:semver-major"]
    
    # PR æ ‡ç­¾
    labels:
      - "dependencies"
      - "auto-merge-candidate"
    
    # å®¡æ ¸è€…é…ç½® (å¯é€‰)
    reviewers:
      - "acmerfight"
    
    # é‡Œç¨‹ç¢‘é…ç½® (å¯é€‰) 
    milestone: 1
    
    # åˆ†ç»„æ›´æ–°ç­–ç•¥
    groups:
      # React ç”Ÿæ€ç³»ç»Ÿ
      react:
        patterns:
          - "react*"
          - "@types/react*"
        
      # Radix UI ç»„ä»¶åº“
      radix-ui:
        patterns:
          - "@radix-ui/*"
        
      # å¼€å‘å·¥å…·
      dev-tools:
        dependency-type: "development"
        patterns:
          - "eslint*"
          - "@typescript-eslint/*"
          - "typescript"
          - "@types/*"
        
      # å®‰å…¨æ›´æ–° (é«˜ä¼˜å…ˆçº§)
      security-updates:
        dependency-type: "production"
        update-types:
          - "security"

  # GitHub Actions å·¥ä½œæµæ›´æ–°
  - package-ecosystem: "github-actions"
    directory: "/"
    schedule:
      interval: "weekly"
      day: "monday"
      time: "09:00" 
      timezone: "Asia/Shanghai"
    
    commit-message:
      prefix: "ğŸ”§ ci"
      include: "scope"
    
    labels:
      - "github-actions"
      - "auto-merge-candidate"
    
    reviewers:
      - "acmerfight"