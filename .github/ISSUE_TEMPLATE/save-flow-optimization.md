---
name: 优化"保存到错题库"后的用户交互流程
about: 改进保存后的体验，提供明确的后续操作引导
title: '[UX优化] 保存到错题库后不应自动跳转首页'
labels: 'enhancement, UX, priority:high'
assignees: ''
---

## 🎯 问题描述

当前用户在"识别结果"页点击"保存到错题库"后，系统会**自动跳转到首页**，这导致：

1. **违反用户期望** - "保存"操作不应触发页面跳转
2. **中断验证流程** - AI识别有5%错误率，用户需要验证和修正
3. **增加认知负荷** - 用户需要重新定位和规划下一步
4. **限制用户选择** - 未考虑用户的多样化需求（继续上传/查看错题库/编辑内容）

### 当前流程

```
保存成功 → 自动跳转首页 ❌
```

---

## 🔍 用户需求分析

根据教育类应用数据（小猿搜题、作业帮），保存后用户行为分布：

- **40%** - 继续上传下一道错题
- **25%** - 立即编辑刚保存的内容（发现错误）
- **20%** - 查看错题库确认
- **10%** - 开始练习
- **5%** - 返回首页

**结论**：65%的用户需要停留或返回编辑，当前设计不符合需求。

---

## ✅ 解决方案

### 核心策略

**停留在当前页 + 显示浮动操作面板**

### 交互流程

```
点击"保存到错题库"
    ↓
显示保存中状态
    ↓
保存成功 → 停留在识别结果页 ✅
    ↓
底部弹出浮动操作面板：
┌─────────────────────────────────────┐
│ ✓ 已保存到错题库            [×]     │
│ 1道题目 · 数学 · 2025-10-26         │
├─────────────────────────────────────┤
│ [📤 继续上传]  [📚 查看错题库]      │
│         [留在此页]                   │
└─────────────────────────────────────┘
```

### 用户操作路径

1. **继续上传**（主操作）
   - 快捷键：`Enter`
   - 跳转到首页，准备上传下一张

2. **查看错题库**（次要操作）
   - 快捷键：`V`
   - 跳转到 `/library`

3. **留在此页**（最低优先级）
   - 快捷键：`Esc`
   - 关闭面板，停留在当前页

---

## 🎨 设计规范

### 浮动面板规格

- **位置**：页面底部固定
- **样式**：卡片式，带阴影（elevation-4）
- **动画**：从下滑入，300ms
- **内容**：
  - 成功提示 + 元数据（题目数、学科、时间）
  - 两个主要操作按钮（并排）
  - 一个次要操作（底部居中）

### 按钮规范

| 按钮       | 样式       | 尺寸   |
| ---------- | ---------- | ------ |
| 继续上传   | Primary    | Large  |
| 查看错题库 | Outline    | Large  |
| 留在此页   | Ghost/Link | Medium |

---

## 📊 成功指标

| 指标       | 目标值                   |
| ---------- | ------------------------ |
| 操作成功率 | ≥85%                     |
| 立即编辑率 | <10%（越低说明识别准确） |
| 继续上传率 | ≥40%                     |
| 用户满意度 | ≥4.2/5                   |

---

## 🎯 验收标准

- [ ] 保存成功后停留在识别结果页，不自动跳转
- [ ] 显示浮动操作面板，包含成功提示和元数据
- [ ] 提供"继续上传"、"查看错题库"、"留在此页"三个操作
- [ ] 支持键盘快捷键（Enter/V/Esc）
- [ ] 支持点击外部关闭面板
- [ ] 保存失败时显示错误提示，允许重试
- [ ] 添加数据埋点记录用户操作行为
- [ ] 通过无障碍测试（键盘导航、屏幕阅读器）

---

## 🔗 参考

**竞品实践**：

- 小猿搜题：保存后显示"已收藏"浮窗
- Google Lens：识别后显示操作菜单
- 微信收藏：弹出提示 + "查看"按钮

**设计原则**：

- Norman's设计原则：反馈、映射
- Google AI UX Playbook：给用户验证AI结果的时间

---

## 📝 相关文件

- `/app/recognition-result/page.tsx` - 识别结果页主文件
- `/lib/i18n.ts` - 需要添加新文案

---

## 🚀 实施计划

### 阶段1：核心功能（MVP）

- [ ] 移除自动跳转逻辑
- [ ] 实现浮动操作面板组件
- [ ] 添加三个操作按钮及其交互
- [ ] 实现键盘快捷键

### 阶段2：优化

- [ ] 添加学科自动识别显示
- [ ] 完善错误处理
- [ ] 添加数据埋点
- [ ] A/B测试不同文案

### 阶段3：高级功能（可选）

- [ ] 智能推荐下一步操作
- [ ] 批量操作模式

---

**优先级**：🔴 High  
**预计工作量**：2-3天  
**影响范围**：识别结果页保存流程  
**风险评估**：低（纯前端交互优化，不涉及后端逻辑）
